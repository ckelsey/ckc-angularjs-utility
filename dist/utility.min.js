!function(t){"use strict";t.service("Utility",["$http","$location","$sce","$anchorScroll",function(t,e,n,r){var i=this;this.domain=e.host(),this.debug=function(t){return console.log(t,"From debug"),t},this.scroll_to=function(t){var n=e.hash();e.hash(t),r(),e.hash(n)},this.trim_text=function(t,e){if(t=t.trim(),t.length>e){var n=t.substr(0,e);return t=n.substr(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}return t},this.localStorageSize=function(){var t=0;for(var e in localStorage)t+=2*localStorage[e].length;var n=t/1024+" KB";return console.log(n),n},this.log=function(t,e){console.log("------------------------------------"),console.log(" "),e&&console.log(e),console.log(t),console.log(" "),console.log("------------------------------------")},this.ev=function(t){var e=t;return e},this.url_decode=function(t){return decodeURIComponent(t)},this.parse_json=function(t){var e=null;try{e=JSON.parse(t)}catch(n){return console.log("returning json::",n),t}return e},this.stringify=function(t){try{return JSON.stringify(t)}catch(e){try{return t.toString()}catch(e){return t}}},this.parse_commas=function(t){var e=t.split(","),n=[];return angular.forEach(e,function(t){t=t.trim(),n.push(t)}),n},this.object_length=function(t){return!t||""===t&&void 0===t&&null===t?0:Object.keys(t).length},this.color_luminance=function(t,e){var n=[];if(t&&t.split(",").length>1){n=t.split(",");for(var r=n.length;r--;)n[r]=parseFloat(String(n[r]).replace(/[^0-9\.]/gi,""))}else{t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);for(var i=0;i<3;i++)n.push(parseInt(t.substr(2*i,2),16))}(void 0===e||null===e||0===e||e===-1||isNaN(e))&&(e=1);var a,s,o=[],l=4===n.length?"rgba(":"rgb(",u=16*e-16;for(s=0;s<3;s++)a=Math.round(u+n[s]),a>255?a=255:a<0&&(a=0),o.push(a);return l+=o.join(","),l+=4===n.length?","+n[3]+")":")"},this.convert_color=function(t,e){var n=[],r="",i=t;if(i&&i.split(",").length>1){n=i.split(",");for(var a=n.length;a--;)n[a]=parseFloat(String(n[a]).replace(/[^0-9\.]/gi,""));if(i.split("hsl").length>1){r="hsl";var s,o,l,u=n[0]/360,c=n[1]/100,h=n[2]/100;if(0===c)n[0]=n[1]=n[2]=255*parseInt(h);else{var m=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},p=h<.5?h*(1+c):h+c-h*c,f=2*h-p;s=m(f,p,u+1/3),o=m(f,p,u),l=m(f,p,u-1/3),n=[Math.round(255*s),Math.round(255*o),Math.round(255*l)]}}else r="rgb"}else{i=String(i).replace(/[^0-9a-f]/gi,""),i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);for(var g=0;g<3;g++)n.push(parseInt(i.substr(2*g,2),16));r="hex"}var d=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},v=function(t,e,n){t/=255,e/=255,n/=255;var r,i,a=Math.max(t,e,n),s=Math.min(t,e,n),o=(a+s)/2;if(a===s)r=i=0;else{var l=a-s;switch(i=o>.5?l/(2-a-s):l/(a+s),a){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return[r,i,o]};switch(e){case"hex":return"hex"===r?"#"+String(t).replace(/[^0-9a-f]/gi,""):"#"+d(n[0])+d(n[1])+d(n[2]);case"hsl":if("hsl"===r)return t;var y=v(n[0],n[1],n[2]);return"hsl("+Math.round(360*y[0])+","+Math.round(100*y[1])+"%,"+Math.round(100*y[2])+"%)";default:return"rgb("+n.join(",")+")"}},this.to_text=function(t){var e=document.createElement("span");e.innerHTML=t;var n=e.hasOwnProperty("innerText")?e.innerText:e.textContent;return e=null,n},this.typeOf=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if(t===!0||t===!1)return"boolean";if("number"==typeof t)return"number";if("[object Date]"===Object.prototype.toString.call(t)||t.indexOf&&t.indexOf(":")>-1&&"Invalid Date"!==new Date(t)&&!isNaN(new Date(t)))return"date";if("string"==typeof t)return"string";var e={}.toString.apply(t);return"[object Array]"===e?"array":"[object Object]"===e?"object":"[object Function]"===e?"function":void 0},this.is_it=function(t,e,n){var r,a=function(t,e){return!!t&&(null!==t&&(""!==t&&(void 0!==t&&(!e||void 0===e||t===e))))},s=[];if(t&&null!==t&&("object"===i.typeOf(t)||"array"===i.typeOf(t))&&e){for(var o=e.split("."),l=o.length,u=[],c=t,h=0;h<l;h++){if(!(null!==c&&"object"===i.typeOf(c)&&o[h]in c||"array"===i.typeOf(c)&&c[o[h]]))return!1;if(u.push(1),c=c[o[h]],h+1===l)if(null!==c&&"object"===i.typeOf(c)){s=[];for(r in c)s.push(r);if(0===s.length)return!1}else if(null!==c&&"array"===i.typeOf(c)){if(0===c.length)return!1}else if(!c||""===c||void 0===c)return!1}return u.length===l&&a(c,n)}if(!t||null===t||"object"!==i.typeOf(t)&&"array"!==i.typeOf(t))return t===n;s=[];for(r in t)s.push(r);return s.length>0},this.validate_email=function(t){if(t&&""!==t){var e=t.indexOf("@"),n=t.lastIndexOf(".");return!(e<1||n-e<2)}return!1},this.get_time=function(t){var e,n,r,i,a=!0,s=!0,o=":";t&&(e=t.timestamp,a=t.hours,s=t.minutes,n=t.seconds,r=t.miliseconds,i=t.am_pm,o=t.delimiter),e||(e=Date.now()),e.length<13&&(e=1e3*e);var l=new Date(e),u=l.getHours(),c=u,h=("0"+l.getMinutes()).slice(-2),m=("0"+l.getSeconds()).slice(-2),p=l.getMilliseconds().toString().substr(0,2),f="AM",g="";return p.length<2&&(p+="0"),u>12?(c=u-12,f="PM"):12===u?(c=12,f="PM"):0===u&&(c=12),a&&(g=c),a&&s?g+=o+h:s&&(g+=h),(a||s)&&n?g+=o+m:n&&(g+=m),(a||s||n)&&r?g+=o+p:r&&(g+=p),(a||s||n||r)&&i?g+=" "+f:i&&(g+=f),g},this.format_time=function(t,e){var n=parseInt(t,10),r=Math.floor(n/3600),i=Math.floor((n-3600*r)/60);t=n-3600*r-60*i;var a;return e?(r<10&&(r="0"+r),i<10&&(i="0"+i),t<10&&(t="0"+t),a=r+":"+i+":"+t):(a=[],r>0&&a.push(r+" hours"),i>0&&a.push(i+" minutes"),t>0&&a.push(t+" seconds"),a.join(", "))},this.format_date=function(t){function e(t,e){var n={};for(var r in t)n[r]=t[r];for(var i in e)n[i]=e[i];return n}var n=new Date;n=n.getTime();var r=["year_short","year_long","month_number","month_name_short","month_name_long","day_number","day_name_short","day_name_long","hours","minutes","seconds","miliseconds","am_pm"],a=r.length,s={timestamp:n,display:"day_name_long month_name_long day_number, year_long hours:minutes am_pm"},o=e(s,t);o.timestamp=""!==o.timestamp&&o.timestamp?o.timestamp:o.timestamp=n,o.timestamp=o.timestamp.length<13?13*o.timestamp:o.timestamp;for(var l=new Date(o.timestamp),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=function(t){switch(t){case"year_short":return l.getFullYear().toString().substr(2,2);case"year_long":return l.getFullYear().toString();case"month_number":return l.getMonth()+1;case"month_name_short":return u[l.getMonth()];case"month_name_long":return c[l.getMonth()];case"day_number":return l.getDate();case"day_name_short":return h[l.getDay()];case"day_name_long":return m[l.getDay()];case"hours":return i.get_time({timestamp:o.timestamp,hours:!0,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!1});case"minutes":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!0,seconds:!1,miliseconds:!1,am_pm:!1});case"seconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!0,miliseconds:!1,am_pm:!1});case"miliseconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!0,am_pm:!1});case"am_pm":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!0});default:return""}},f=0;f<a;f++)if(o.display.indexOf(r[f]>-1)){var g=p(r[f]);o.display=o.display.replace(r[f],g)}return o.display.toString()},this.merge=function(t,e){if(t&&"object"===i.typeOf(t)&&e&&"object"!==i.typeOf(e))return t;if(t&&"object"!==i.typeOf(t)&&e&&"object"===i.typeOf(e))return e;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},this.math=function(t,e){return Math[t](e)},this.is_past=function(t){"number"!==i.typeOf(t)&&isNaN(t)||t.length<13&&(t=1e3*t);var e=new Date(t);return e&&"Invalid Date"!==e?e.getTime()<Date.now():"Invalid Date"},this.trust_url=function(t){try{return n.trustAsUrl(t)}catch(e){}},this.trust_html=function(t){try{return t=angular.element("<textarea />").html(t).text(),n.trustAsHtml(t)}catch(e){}},this.array_has_object=function(t,e,n){return Array.prototype.hasObject=function(t,e){for(var n=this.length,r=t[e];n--;)if(this[n].hasOwnProperty(e)&&this[n][e]===r)return!0;return!1},t.hasObject(e)},this.object_path=function(t,e,n){if(("object"===i.typeOf(t)||"array"===i.typeOf(t))&&""!==e&&"string"===i.typeOf(e)){var r=e.split(".");if(r.length>1){var a=t[r[0]];return r.shift(),i.object_path(a,r.join("."),n)}return void 0!==n?t[r[0]]=n:t[r[0]]}}}]),t.directive("ellipsisBind",["$timeout",function(t){return{restrict:"A",link:function(e,n,r,i){var a=r.ellipsisSymbol?r.ellipsisSymbol:"...",s=a,o=r.ellipsisLines?r.ellipsisLines:2,l=o,u=!!r.hasOwnProperty("ellipsisWatch")&&r.ellipsisWatch;n.css("position","relative");var c=null,h=n.html(),m=parseInt(n.width()),p=function(t){for(var e=document.createElement("ellipse_wrapper"),n=t.textContent.split(""),r=n.length,i=0;i<r;i++){var a=document.createElement("ellipse_item");a.textContent=n[i],e.appendChild(a)}var s=t.parentNode;s.insertBefore(e,t),s.removeChild(t)},f=function(t){for(var e=t.childNodes,n=e.length,r=0;r<n;r++){var i=e[r];i.childNodes.length>0?f(i):"ellipse_wrapper"!==i.tagname&&p(i)}},g=function(){for(var t=parseInt(n.css("line-height")),e=n[0].getElementsByTagName("ellipse_item"),r=Array.prototype.slice.call(e),i=r.length,a=0;a<i;a++){var o=e[a].offsetTop;o<t*l?e[a].className=o:e[a].className="hiding "+o}var u,c=n[0].querySelectorAll(".hiding"),h=Array.prototype.slice.call(c),m=h.length;if(m>0){for(var p=c[0],f=s.length+1;f--&&p;)p=p.previousSibling,p&&(p.className="hiding hidden");for(var g=0;g<m;g++)h[g].className="hiding hidden";u=n[0].querySelectorAll(".ellipsi"),0===u.length&&(u=document.createElement("span"),u.className="ellipsi",u.textContent=s,n[0].appendChild(u))}else u=n[0].querySelectorAll(".ellipsi"),u.length>0&&n[0].removedChild(u[0])},d=function(){null!==c&&t.cancel(c);var i=r.ellipsisBind;if(i&&""!==i){i=i.split(".").length>1?i.split("."):[i];for(var u=e.$parent,d=i.length,y=0;y<d;y++)u=u[i[y]];var _=parseInt(n.width());if(h!==u||m!==_||l!==o||a!==s){a=s,m=_,h=u,o=l;var b=document.createElement("span");b.className="ellipsis_container",b.innerHTML=h;for(var O=b.childNodes,S=O.length,M=0;M<S;M++){var j=O[M];"ellipse_wrapper"!==j.tagname&&j.childNodes.length>0?f(j):"ellipse_wrapper"!==j.tagname&&p(j)}n[0].innerHTML="",n[0].appendChild(b),g()}}v()},v=function(){c=t(d,500)};d();var y=function(t,e,n){null!==t&&"undefined"!==self.typeOf(t)&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)};y(window,"resize",d()),u!==!0&&"true"!==u||(e.$watch(function(){return r.ellipsisLines},function(t){t&&(l=t,d())},!0),e.$watch(function(){return r.ellipsisSymbol},function(t){t&&(s=t,d())},!0))}}}]),t.directive("toggleParent",function(){return{restrict:"A",link:function(t,e,n){var r=e.parent(),i=n.toggleParent;e.bind("click",function(){r.hasClass(i)?r.removeClass(i):r.addClass(i)})}}}),t.directive("jsonText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){function i(t){try{return JSON.parse(t)}catch(e){return t.toString()}}function a(t){try{return JSON.stringify(t)}catch(e){return input.toString()}}r.$parsers.push(i),r.$formatters.push(a)}}})}(angular.module("utility_module",[]));
//# sourceMappingURL=utility.min.js.map
