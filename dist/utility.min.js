angular.module("utility_module",[]).service("Utility",["$http","$location","$sce","$anchorScroll",function(e,t,n,r){var i=this;this.domain=t.host(),this.debug=function(e){return console.log(e,"From debug"),e},this.scroll_to=function(e){var n=t.hash();t.hash(e),r(),t.hash(n)},this.trim_text=function(e,t){if(e=e.trim(),e.length>t){var n=e.substr(0,t);return e=n.substr(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}return e},this.ev=function(e){var t=e;return t},this.url_decode=function(e){return decodeURIComponent(e)},this.parse_json=function(e){var t=null;try{t=JSON.parse(e)}catch(n){return console.log("returning json::",n),e}return t},this.stringify=function(e){try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return e}}},this.parse_commas=function(e){var t=e.split(","),n=[];return angular.forEach(t,function(e){e=e.trim(),n.push(e)}),n},this.object_length=function(e){return!e||""===e&&void 0===e&&null===e?0:Object.keys(e).length},this.color_luminance=function(e,t){var n=[];if(e&&e.split(",").length>1){n=e.split(",");for(var r=n.length;r--;)n[r]=parseFloat(String(n[r]).replace(/[^0-9\.]/gi,""))}else{e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);for(var i=0;3>i;i++)n.push(parseInt(e.substr(2*i,2),16))}(void 0==t||null==t||0==t||-1==t||isNaN(t))&&(t=1);var a,i,s=[],o=4==n.length?"rgba(":"rgb(",l=16*t-16;for(i=0;3>i;i++)a=Math.round(l+n[i]),a>255?a=255:0>a&&(a=0),s.push(a);return o+=s.join(","),o+=4==n.length?","+n[3]+")":")"},this.convert_color=function(e,t){var n=[],r="",i=e;if(i&&i.split(",").length>1){n=i.split(",");for(var a=n.length;a--;)n[a]=parseFloat(String(n[a]).replace(/[^0-9\.]/gi,""));if(i.split("hsl").length>1){r="hsl";var s,o,l,u=n[0]/360,c=n[1]/100,h=n[2]/100;if(0==c)n[0]=n[1]=n[2]=255*parseInt(h);else{var m=function(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e},p=.5>h?h*(1+c):h+c-h*c,d=2*h-p;s=m(d,p,u+1/3),o=m(d,p,u),l=m(d,p,u-1/3),n=[Math.round(255*s),Math.round(255*o),Math.round(255*l)]}}else r="rgb"}else{i=String(i).replace(/[^0-9a-f]/gi,""),i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);for(var g=0;3>g;g++)n.push(parseInt(i.substr(2*g,2),16));r="hex"}var f=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},v=function(e,t,n){e/=255,t/=255,n/=255;var r,i,a=Math.max(e,t,n),s=Math.min(e,t,n),o=(a+s)/2;if(a==s)r=i=0;else{var l=a-s;switch(i=o>.5?l/(2-a-s):l/(a+s),a){case e:r=(t-n)/l+(n>t?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return[r,i,o]};switch(t){case"hex":return"hex"==r?"#"+String(e).replace(/[^0-9a-f]/gi,""):"#"+f(n[0])+f(n[1])+f(n[2]);case"hsl":if("hsl"==r)return e;var s=v(n[0],n[1],n[2]);return"hsl("+Math.round(360*s[0])+","+Math.round(100*s[1])+"%,"+Math.round(100*s[2])+"%)";default:return"rgb("+n.join(",")+")"}},this.to_text=function(e){var t=document.createElement("span");t.innerHTML=e;var n=t.hasOwnProperty("innerText")?t.innerText:t.textContent;return t=null,n},this.is_it=function(e,t,n){var r=function(e,t){return e&&null!==e&&""!==e&&void 0!==e?t&&void 0!==t?e==t?!0:!1:!0:!1};if(e&&("object"==typeof e||"array"==typeof e)&&t){for(var i=t.split("."),a=i.length,s=[],o=e,l=0;a>l;l++){if(!("object"==typeof o&&i[l]in o||"array"==typeof o&&o[i[l]]))return!1;s.push(1),o=o[i[l]]}return s.length==a?r(o,n):!1}return e==n?!0:!1},this.validate_email=function(e){if(e&&""!==e){var t=e.indexOf("@"),n=e.lastIndexOf(".");return 1>t||2>n-t?!1:!0}return!1},this.get_time=function(e){var t,n,r,i,a=!0,s=!0,o=":";e&&(t=e.timestamp,a=e.hours,s=e.minutes,n=e.seconds,r=e.miliseconds,i=e.am_pm,o=e.delimiter),t||(t=Date.now()),t.length<13&&(t=1e3*t);var l=new Date(t),u=l.getHours(),c=u,h=("0"+l.getMinutes()).slice(-2),m=("0"+l.getSeconds()).slice(-2),p=l.getMilliseconds().toString().substr(0,2),d="AM",g="";return p.length<2&&(p+="0"),u>12?(c=u-12,d="PM"):12===u?(c=12,d="PM"):0==u&&(c=12),a&&(g=c),a&&s?g+=o+h:s&&(g+=h),(a||s)&&n?g+=o+m:n&&(g+=m),(a||s||n)&&r?g+=o+p:r&&(g+=p),(a||s||n||r)&&i?g+=" "+d:i&&(g+=d),g},this.format_date=function(e){function t(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}var n=new Date;n=n.getTime();var r=["year_short","year_long","month_number","month_name_short","month_name_long","day_number","day_name_short","day_name_long","hours","minutes","seconds","miliseconds","am_pm"],a=r.length,s={timestamp:n,display:"day_name_long month_name_long day_number, year_long hours:minutes am_pm"},o=t(s,e);o.timestamp=""==o.timestamp?o.timestamp=n:o.timestamp,o.timestamp=o.timestamp.length<13?13*o.timestamp:o.timestamp;for(var l=new Date(o.timestamp),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=function(e){switch(e){case"year_short":return l.getFullYear().toString().substr(2,2);case"year_long":return l.getFullYear().toString();case"month_number":return l.getMonth()+1;case"month_name_short":return u[l.getMonth()];case"month_name_long":return c[l.getMonth()];case"day_number":return l.getDate();case"day_name_short":return h[l.getDay()];case"day_name_long":return m[l.getDay()];case"hours":return i.get_time({timestamp:o.timestamp,hours:!0,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!1});case"minutes":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!0,seconds:!1,miliseconds:!1,am_pm:!1});case"seconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!0,miliseconds:!1,am_pm:!1});case"miliseconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!0,am_pm:!1});case"am_pm":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!0});default:return""}},d=0;a>d;d++)if(o.display.indexOf(r[d]>-1)){var g=p(r[d]);o.display=o.display.replace(r[d],g)}return o.display.toString()},this.merge=function(e,t){if(e&&"Object"==e["typeof"]&&t&&"Object"!==t["typeof"])return e;if(e&&"Object"!==e["typeof"]&&t&&"Object"==t["typeof"])return t;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},this.math=function(e,t){return Math[e](t)},this.is_past=function(e){"number"!=typeof e&&isNaN(e)||e.length<13&&(e=1e3*e);var t=new Date(e);return console.log(t),t&&"Invalid Date"!=t?t.getTime()<Date.now()?!0:!1:"Invalid Date"},this.trust_url=function(e){try{return n.trustAsUrl(e)}catch(t){console.log(t)}},this.trust_html=function(e){try{var e=angular.element("<textarea />").html(e).text();return n.trustAsHtml(e)}catch(t){console.log(t)}},this.array_has_object=function(e,t,n){return Array.prototype.hasObject=function(e,t){for(var n=this.length,r=e[t];n--;)if(this[n].hasOwnProperty(t)&&this[n][t]==r)return!0;return!1},e.hasObject(t)}}]).directive("ellipsisBind",["$timeout",function(e){return{restrict:"A",link:function(t,n,r,i){var a=r.ellipsisSymbol?r.ellipsisSymbol:"...",s=a,o=r.ellipsisLines?r.ellipsisLines:2,l=o,u=r.hasOwnProperty("ellipsisWatch")?r.ellipsisWatch:!1;n.css("position","relative");var c=null,h=n.html(),m=parseInt(n.width()),p=function(e){for(var t=document.createElement("ellipse_wrapper"),n=e.textContent.split(""),r=n.length,i=0;r>i;i++){var a=document.createElement("ellipse_item");a.textContent=n[i],t.appendChild(a)}var s=e.parentNode;s.insertBefore(t,e),s.removeChild(e)},d=function(e){for(var t=e.childNodes,n=t.length,r=0;n>r;r++){var i=t[r];i.childNodes.length>0?d(i):"ellipse_wrapper"!==i.tagname&&p(i)}},g=function(){for(var e=parseInt(n.css("line-height")),t=n[0].getElementsByTagName("ellipse_item"),r=Array.prototype.slice.call(t),i=r.length,a=0;i>a;a++){var o=t[a].offsetTop;e*l>o?t[a].className=o:t[a].className="hiding "+o}var u=n[0].querySelectorAll(".hiding"),c=Array.prototype.slice.call(u),h=c.length;if(h>0){for(var m=u[0],p=s.length+1;p--&&m;)m=m.previousSibling,m&&(m.className="hiding hidden");for(var d=0;h>d;d++)c[d].className="hiding hidden";var g=n[0].querySelectorAll(".ellipsi");if(0==g.length){var g=document.createElement("span");g.className="ellipsi",g.textContent=s,n[0].appendChild(g)}}else{var g=n[0].querySelectorAll(".ellipsi");g.length>0&&n[0].removedChild(g[0])}},f=function(){null!==c&&e.cancel(c);var i=r.ellipsisBind;if(i&&""!==i){i=i.split(".").length>1?i.split("."):[i];for(var u=t.$parent,f=i.length,y=0;f>y;y++)u=u[i[y]];var _=parseInt(n.width());if(h!==u||m!==_||l!==o||a!==s){a=s,m=_,h=u,o=l;var b=document.createElement("span");b.className="ellipsis_container",b.innerHTML=h;for(var M=b.childNodes,S=M.length,w=0;S>w;w++){var N=M[w];"ellipse_wrapper"!==N.tagname&&N.childNodes.length>0?d(N):"ellipse_wrapper"!==N.tagname&&p(N)}n[0].innerHTML="",n[0].appendChild(b),g()}}v()},v=function(){c=e(f,500)};f();var y=function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)};y(window,"resize",f()),(1==u||"true"==u)&&(t.$watch(function(){return r.ellipsisLines},function(e){e&&(l=e,f())},!0),t.$watch(function(){return r.ellipsisSymbol},function(e){e&&(s=e,f())},!0))}}}]);
//# sourceMappingURL=utility.min.js.map