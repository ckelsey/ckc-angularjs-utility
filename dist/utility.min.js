!function(e){"use strict";e.service("Utility",["$http","$location","$sce","$anchorScroll",function(e,t,n,r){var i=this;this.domain=t.host(),this.debug=function(e){return console.log(e,"From debug"),e},this.scroll_to=function(e){var n=t.hash();t.hash(e),r(),t.hash(n)},this.trim_text=function(e,t){if(e=e.trim(),e.length>t){var n=e.substr(0,t);return e=n.substr(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}return e},this.localStorageSize=function(){var e=0;for(var t in localStorage)e+=2*localStorage[t].length;var n=e/1024+" KB";return console.log(n),n},this.log=function(e,t){console.log("------------------------------------"),console.log(" "),t&&console.log(t),console.log(e),console.log(" "),console.log("------------------------------------")},this.ev=function(e){var t=e;return t},this.url_decode=function(e){return decodeURIComponent(e)},this.parse_json=function(e){var t=null;try{t=JSON.parse(e)}catch(n){return console.log("returning json::",n),e}return t},this.stringify=function(e){try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return e}}},this.parse_commas=function(e){var t=e.split(","),n=[];return angular.forEach(t,function(e){e=e.trim(),n.push(e)}),n},this.object_length=function(e){return!e||""===e&&void 0===e&&null===e?0:Object.keys(e).length},this.color_luminance=function(e,t){var n=[];if(e&&e.split(",").length>1){n=e.split(",");for(var r=n.length;r--;)n[r]=parseFloat(String(n[r]).replace(/[^0-9\.]/gi,""))}else{e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);for(var i=0;i<3;i++)n.push(parseInt(e.substr(2*i,2),16))}(void 0===t||null===t||0===t||t===-1||isNaN(t))&&(t=1);var a,s,o=[],l=4===n.length?"rgba(":"rgb(",u=16*t-16;for(s=0;s<3;s++)a=Math.round(u+n[s]),a>255?a=255:a<0&&(a=0),o.push(a);return l+=o.join(","),l+=4===n.length?","+n[3]+")":")"},this.convert_color=function(e,t){var n=[],r="",i=e;if(i&&i.split(",").length>1){n=i.split(",");for(var a=n.length;a--;)n[a]=parseFloat(String(n[a]).replace(/[^0-9\.]/gi,""));if(i.split("hsl").length>1){r="hsl";var s,o,l,u=n[0]/360,c=n[1]/100,h=n[2]/100;if(0===c)n[0]=n[1]=n[2]=255*parseInt(h);else{var m=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},p=h<.5?h*(1+c):h+c-h*c,f=2*h-p;s=m(f,p,u+1/3),o=m(f,p,u),l=m(f,p,u-1/3),n=[Math.round(255*s),Math.round(255*o),Math.round(255*l)]}}else r="rgb"}else{i=String(i).replace(/[^0-9a-f]/gi,""),i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);for(var g=0;g<3;g++)n.push(parseInt(i.substr(2*g,2),16));r="hex"}var d=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},v=function(e,t,n){e/=255,t/=255,n/=255;var r,i,a=Math.max(e,t,n),s=Math.min(e,t,n),o=(a+s)/2;if(a===s)r=i=0;else{var l=a-s;switch(i=o>.5?l/(2-a-s):l/(a+s),a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return[r,i,o]};switch(t){case"hex":return"hex"===r?"#"+String(e).replace(/[^0-9a-f]/gi,""):"#"+d(n[0])+d(n[1])+d(n[2]);case"hsl":if("hsl"===r)return e;var y=v(n[0],n[1],n[2]);return"hsl("+Math.round(360*y[0])+","+Math.round(100*y[1])+"%,"+Math.round(100*y[2])+"%)";default:return"rgb("+n.join(",")+")"}},this.to_text=function(e){var t=document.createElement("span");t.innerHTML=e;var n=t.hasOwnProperty("innerText")?t.innerText:t.textContent;return t=null,n},this.typeOf=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(e===!0||e===!1)return"boolean";if("number"==typeof e)return"number";if("[object Date]"===Object.prototype.toString.call(e)||e.indexOf&&e.indexOf(":")>-1&&"Invalid Date"!==new Date(e)&&!isNaN(new Date(e)))return"date";if("string"==typeof e)return"string";var t={}.toString.apply(e);return"[object Array]"===t?"array":"[object Object]"===t?"object":"[object Function]"===t?"function":void 0},this.is_it=function(e,t,n){var r,a=function(e,t){return!!e&&(null!==e&&(""!==e&&(void 0!==e&&(!t||void 0===t||e===t))))},s=[];if(e&&null!==e&&("object"===i.typeOf(e)||"array"===i.typeOf(e))&&t){for(var o=t.split("."),l=o.length,u=[],c=e,h=0;h<l;h++){if(!(null!==c&&"object"===i.typeOf(c)&&o[h]in c||"array"===i.typeOf(c)&&c[o[h]]))return!1;if(u.push(1),c=c[o[h]],h+1===l)if(null!==c&&"object"===i.typeOf(c)){s=[];for(r in c)s.push(r);if(0===s.length)return!1}else if(null!==c&&"array"===i.typeOf(c)){if(0===c.length)return!1}else if(!c||""===c||void 0===c)return!1}return u.length===l&&a(c,n)}if(!e||null===e||"object"!==i.typeOf(e)&&"array"!==i.typeOf(e))return e===n;s=[];for(r in e)s.push(r);return s.length>0},this.validate_email=function(e){if(e&&""!==e){var t=e.indexOf("@"),n=e.lastIndexOf(".");return!(t<1||n-t<2)}return!1},this.get_time=function(e){var t,n,r,i,a=!0,s=!0,o=":";e&&(t=e.timestamp,a=e.hours,s=e.minutes,n=e.seconds,r=e.miliseconds,i=e.am_pm,o=e.delimiter),t||(t=Date.now()),t.length<13&&(t=1e3*t);var l=new Date(t),u=l.getHours(),c=u,h=("0"+l.getMinutes()).slice(-2),m=("0"+l.getSeconds()).slice(-2),p=l.getMilliseconds().toString().substr(0,2),f="AM",g="";return p.length<2&&(p+="0"),u>12?(c=u-12,f="PM"):12===u?(c=12,f="PM"):0===u&&(c=12),a&&(g=c),a&&s?g+=o+h:s&&(g+=h),(a||s)&&n?g+=o+m:n&&(g+=m),(a||s||n)&&r?g+=o+p:r&&(g+=p),(a||s||n||r)&&i?g+=" "+f:i&&(g+=f),g},this.format_time=function(e,t){var n=parseInt(e,10),r=Math.floor(n/3600),i=Math.floor((n-3600*r)/60);e=n-3600*r-60*i;var a;return t?(r<10&&(r="0"+r),i<10&&(i="0"+i),e<10&&(e="0"+e),a=r+":"+i+":"+e):(a=[],r>0&&a.push(r+" hours"),i>0&&a.push(i+" minutes"),e>0&&a.push(e+" seconds"),a.join(", "))},this.format_date=function(e){function t(e,t){var n={};for(var r in e)n[r]=e[r];for(var i in t)n[i]=t[i];return n}var n=new Date;n=n.getTime();var r=["year_short","year_long","month_number","month_name_short","month_name_long","day_number","day_name_short","day_name_long","hours","minutes","seconds","miliseconds","am_pm"],a=r.length,s={timestamp:n,display:"day_name_long month_name_long day_number, year_long hours:minutes am_pm"},o=t(s,e);o.timestamp=""!==o.timestamp&&o.timestamp?o.timestamp:o.timestamp=n,o.timestamp=o.timestamp.length<13?13*o.timestamp:o.timestamp;for(var l=new Date(o.timestamp),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=function(e){switch(e){case"year_short":return l.getFullYear().toString().substr(2,2);case"year_long":return l.getFullYear().toString();case"month_number":return l.getMonth()+1;case"month_name_short":return u[l.getMonth()];case"month_name_long":return c[l.getMonth()];case"day_number":return l.getDate();case"day_name_short":return h[l.getDay()];case"day_name_long":return m[l.getDay()];case"hours":return i.get_time({timestamp:o.timestamp,hours:!0,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!1});case"minutes":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!0,seconds:!1,miliseconds:!1,am_pm:!1});case"seconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!0,miliseconds:!1,am_pm:!1});case"miliseconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!0,am_pm:!1});case"am_pm":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!0});default:return""}},f=0;f<a;f++)if(o.display.indexOf(r[f]>-1)){var g=p(r[f]);o.display=o.display.replace(r[f],g)}return o.display.toString()},this.merge=function(e,t){if(e&&"object"===i.typeOf(e)&&t&&"object"!==i.typeOf(t))return e;if(e&&"object"!==i.typeOf(e)&&t&&"object"===i.typeOf(t))return t;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},this.math=function(e,t){return Math[e](t)},this.is_past=function(e){"number"!==i.typeOf(e)&&isNaN(e)||e.length<13&&(e=1e3*e);var t=new Date(e);return t&&"Invalid Date"!==t?t.getTime()<Date.now():"Invalid Date"},this.trust_url=function(e){try{return n.trustAsUrl(e)}catch(t){}},this.trust_html=function(e){try{return e=angular.element("<textarea />").html(e).text(),n.trustAsHtml(e)}catch(t){}},this.array_has_object=function(e,t,n){return Array.prototype.hasObject=function(e,t){for(var n=this.length,r=e[t];n--;)if(this[n].hasOwnProperty(t)&&this[n][t]===r)return!0;return!1},e.hasObject(t)},this.object_path=function(e,t,n){if(("object"===i.typeOf(e)||"array"===i.typeOf(e))&&""!==t&&"string"===i.typeOf(t)){var r=t.split(".");if(r.length>1){var a=e[r[0]];return r.shift(),i.object_path(a,r.join("."),n)}return void 0!==n?e[r[0]]=n:e[r[0]]}}}]),e.directive("ellipsisBind",["$timeout",function(e){return{restrict:"A",link:function(t,n,r,i){var a=r.ellipsisSymbol?r.ellipsisSymbol:"...",s=a,o=r.ellipsisLines?r.ellipsisLines:2,l=o,u=!!r.hasOwnProperty("ellipsisWatch")&&r.ellipsisWatch;n.css("position","relative");var c=null,h=n.html(),m=parseInt(n.width()),p=function(e){for(var t=document.createElement("ellipse_wrapper"),n=e.textContent.split(""),r=n.length,i=0;i<r;i++){var a=document.createElement("ellipse_item");a.textContent=n[i],t.appendChild(a)}var s=e.parentNode;s.insertBefore(t,e),s.removeChild(e)},f=function(e){for(var t=e.childNodes,n=t.length,r=0;r<n;r++){var i=t[r];i.childNodes.length>0?f(i):"ellipse_wrapper"!==i.tagname&&p(i)}},g=function(){for(var e=parseInt(n.css("line-height")),t=n[0].getElementsByTagName("ellipse_item"),r=Array.prototype.slice.call(t),i=r.length,a=0;a<i;a++){var o=t[a].offsetTop;o<e*l?t[a].className=o:t[a].className="hiding "+o}var u,c=n[0].querySelectorAll(".hiding"),h=Array.prototype.slice.call(c),m=h.length;if(m>0){for(var p=c[0],f=s.length+1;f--&&p;)p=p.previousSibling,p&&(p.className="hiding hidden");for(var g=0;g<m;g++)h[g].className="hiding hidden";u=n[0].querySelectorAll(".ellipsi"),0===u.length&&(u=document.createElement("span"),u.className="ellipsi",u.textContent=s,n[0].appendChild(u))}else u=n[0].querySelectorAll(".ellipsi"),u.length>0&&n[0].removedChild(u[0])},d=function(){null!==c&&e.cancel(c);var i=r.ellipsisBind;if(i&&""!==i){i=i.split(".").length>1?i.split("."):[i];for(var u=t.$parent,d=i.length,y=0;y<d;y++)u=u[i[y]];var _=parseInt(n.width());if(h!==u||m!==_||l!==o||a!==s){a=s,m=_,h=u,o=l;var b=document.createElement("span");b.className="ellipsis_container",b.innerHTML=h;for(var O=b.childNodes,S=O.length,j=0;j<S;j++){var M=O[j];"ellipse_wrapper"!==M.tagname&&M.childNodes.length>0?f(M):"ellipse_wrapper"!==M.tagname&&p(M)}n[0].innerHTML="",n[0].appendChild(b),g()}}v()},v=function(){c=e(d,500)};d();var y=function(e,t,n){null!==e&&"undefined"!==self.typeOf(e)&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)};y(window,"resize",d()),u!==!0&&"true"!==u||(t.$watch(function(){return r.ellipsisLines},function(e){e&&(l=e,d())},!0),t.$watch(function(){return r.ellipsisSymbol},function(e){e&&(s=e,d())},!0))}}}]),e.directive("toggleParent",function(){return{restrict:"A",link:function(e,t,n){var r=t.parent(),i=n.toggleParent;t.bind("click",function(){r.hasClass(i)?r.removeClass(i):r.addClass(i)})}}}),e.directive("jsonText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){function i(e){try{return JSON.parse(e)}catch(t){return e.toString()}}function a(e){try{return JSON.stringify(e)}catch(t){return e}}r.$parsers.push(i),r.$formatters.push(a)}}}),e.service("debouncer",function(){var e={},t=function(t,n){e[t.name]=setTimeout(function(){var e=t.fn.apply(this,t.arguments);e&&e.hasOwnProperty("$$state")?e.then(function(e){n.resolve(e)},function(e){n.reject(e)}):n.resolve(e)},t.time||100)},n=function(n,r){e.hasOwnProperty(n.name)?(clearTimeout(e[n.name]),t(n,r)):t(n,r)};return function(e){var t=$q.defer();return e?n(e,t):t.reject(),t.promise}})}(angular.module("utility_module",[]));
//# sourceMappingURL=utility.min.js.map
