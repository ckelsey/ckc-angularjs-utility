angular.module("utility_module",[]).service("Utility",["$http","$location","$sce","$anchorScroll",function(e,t,n,r){var i=this;this.domain=t.host(),this.debug=function(e){return console.log(e,"From debug"),e},this.scroll_to=function(e){var n=t.hash();t.hash(e),r(),t.hash(n)},this.trim_text=function(e,t){if(e=e.trim(),e.length>t){var n=e.substr(0,t);return e=n.substr(0,Math.min(n.length,n.lastIndexOf(" ")))+"..."}return e},this.ev=function(e){var t=e;return t},this.url_decode=function(e){return decodeURIComponent(e)},this.parse_json=function(e){var t=null;try{t=JSON.parse(e)}catch(n){return console.log("returning json::",n),e}return t},this.stringify=function(e){try{return JSON.stringify(e)}catch(t){try{return e.toString()}catch(t){return e}}},this.parse_commas=function(e){var t=e.split(","),n=[];return angular.forEach(t,function(e){e=e.trim(),n.push(e)}),n},this.object_length=function(e){return!e||""===e&&void 0===e&&null===e?0:Object.keys(e).length},this.color_luminance=function(e,t){var n=[];if(e&&e.split(",").length>1){n=e.split(",");for(var r=n.length;r--;)n[r]=parseFloat(String(n[r]).replace(/[^0-9\.]/gi,""))}else{e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);for(var i=0;3>i;i++)n.push(parseInt(e.substr(2*i,2),16))}(void 0==t||null==t||0==t||-1==t||isNaN(t))&&(t=1);var a,i,s=[],o=4==n.length?"rgba(":"rgb(",l=16*t-16;for(i=0;3>i;i++)a=Math.round(l+n[i]),a>255?a=255:0>a&&(a=0),s.push(a);return o+=s.join(","),o+=4==n.length?","+n[3]+")":")"},this.convert_color=function(e,t){var n=[],r="",i=e;if(i&&i.split(",").length>1){n=i.split(",");for(var a=n.length;a--;)n[a]=parseFloat(String(n[a]).replace(/[^0-9\.]/gi,""));if(i.split("hsl").length>1){r="hsl";var s,o,l,u=n[0]/360,h=n[1]/100,c=n[2]/100;if(0==h)n[0]=n[1]=n[2]=255*parseInt(c);else{var m=function(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e},p=.5>c?c*(1+h):c+h-c*h,f=2*c-p;s=m(f,p,u+1/3),o=m(f,p,u),l=m(f,p,u-1/3),n=[Math.round(255*s),Math.round(255*o),Math.round(255*l)]}}else r="rgb"}else{i=String(i).replace(/[^0-9a-f]/gi,""),i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);for(var d=0;3>d;d++)n.push(parseInt(i.substr(2*d,2),16));r="hex"}var g=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t},v=function(e,t,n){e/=255,t/=255,n/=255;var r,i,a=Math.max(e,t,n),s=Math.min(e,t,n),o=(a+s)/2;if(a==s)r=i=0;else{var l=a-s;switch(i=o>.5?l/(2-a-s):l/(a+s),a){case e:r=(t-n)/l+(n>t?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return[r,i,o]};switch(t){case"hex":return"hex"==r?"#"+String(e).replace(/[^0-9a-f]/gi,""):"#"+g(n[0])+g(n[1])+g(n[2]);case"hsl":if("hsl"==r)return e;var s=v(n[0],n[1],n[2]);return"hsl("+Math.round(360*s[0])+","+Math.round(100*s[1])+"%,"+Math.round(100*s[2])+"%)";default:return"rgb("+n.join(",")+")"}},this.to_text=function(e){var t=document.createElement("span");t.innerHTML=e;var n=t.hasOwnProperty("innerText")?t.innerText:t.textContent;return t=null,n},this.is_it=function(e,t,n){var r=function(e,t){return e&&null!==e&&""!==e&&void 0!==e?t&&void 0!==t?e==t?!0:!1:!0:!1};if(e&&null!==e&&("object"==typeof e||"array"==typeof e)&&t){for(var i=t.split("."),a=i.length,s=[],o=e,l=0;a>l;l++){if(!(null!==o&&"object"==typeof o&&i[l]in o||"array"==typeof o&&o[i[l]]))return!1;if(s.push(1),o=o[i[l]],l+1==a)if(null!==o&&"object"==typeof o){var u=[];for(var h in o)u.push(h);if(0==u.length)return!1}else if(null!==o&&"array"==typeof o){if(0==o.length)return!1}else if(!o||""==o||void 0==o)return!1}return s.length==a?r(o,n):!1}if(!e||null===e||"object"!=typeof e&&"array"!=typeof e)return e==n?!0:!1;var u=[];for(var h in e)u.push(h);return u.length>0?!0:!1},this.validate_email=function(e){if(e&&""!==e){var t=e.indexOf("@"),n=e.lastIndexOf(".");return 1>t||2>n-t?!1:!0}return!1},this.get_time=function(e){var t,n,r,i,a=!0,s=!0,o=":";e&&(t=e.timestamp,a=e.hours,s=e.minutes,n=e.seconds,r=e.miliseconds,i=e.am_pm,o=e.delimiter),t||(t=Date.now()),t.length<13&&(t=1e3*t);var l=new Date(t),u=l.getHours(),h=u,c=("0"+l.getMinutes()).slice(-2),m=("0"+l.getSeconds()).slice(-2),p=l.getMilliseconds().toString().substr(0,2),f="AM",d="";return p.length<2&&(p+="0"),u>12?(h=u-12,f="PM"):12===u?(h=12,f="PM"):0==u&&(h=12),a&&(d=h),a&&s?d+=o+c:s&&(d+=c),(a||s)&&n?d+=o+m:n&&(d+=m),(a||s||n)&&r?d+=o+p:r&&(d+=p),(a||s||n||r)&&i?d+=" "+f:i&&(d+=f),d},this.format_time=function(e,t){var n=parseInt(e,10),r=Math.floor(n/3600),i=Math.floor((n-3600*r)/60),e=n-3600*r-60*i;if(t){10>r&&(r="0"+r),10>i&&(i="0"+i),10>e&&(e="0"+e);var a=r+":"+i+":"+e;return a}var a=[];return r>0&&a.push(r+" hours"),i>0&&a.push(i+" minutes"),e>0&&a.push(e+" seconds"),a.join(", ")},this.format_date=function(e){function t(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}var n=new Date;n=n.getTime();var r=["year_short","year_long","month_number","month_name_short","month_name_long","day_number","day_name_short","day_name_long","hours","minutes","seconds","miliseconds","am_pm"],a=r.length,s={timestamp:n,display:"day_name_long month_name_long day_number, year_long hours:minutes am_pm"},o=t(s,e);o.timestamp=""==o.timestamp?o.timestamp=n:o.timestamp,o.timestamp=o.timestamp.length<13?13*o.timestamp:o.timestamp;for(var l=new Date(o.timestamp),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=function(e){switch(e){case"year_short":return l.getFullYear().toString().substr(2,2);case"year_long":return l.getFullYear().toString();case"month_number":return l.getMonth()+1;case"month_name_short":return u[l.getMonth()];case"month_name_long":return h[l.getMonth()];case"day_number":return l.getDate();case"day_name_short":return c[l.getDay()];case"day_name_long":return m[l.getDay()];case"hours":return i.get_time({timestamp:o.timestamp,hours:!0,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!1});case"minutes":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!0,seconds:!1,miliseconds:!1,am_pm:!1});case"seconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!0,miliseconds:!1,am_pm:!1});case"miliseconds":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!0,am_pm:!1});case"am_pm":return i.get_time({timestamp:o.timestamp,hours:!1,minutes:!1,seconds:!1,miliseconds:!1,am_pm:!0});default:return""}},f=0;a>f;f++)if(o.display.indexOf(r[f]>-1)){var d=p(r[f]);o.display=o.display.replace(r[f],d)}return o.display.toString()},this.merge=function(e,t){if(e&&"Object"==e["typeof"]&&t&&"Object"!==t["typeof"])return e;if(e&&"Object"!==e["typeof"]&&t&&"Object"==t["typeof"])return t;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},this.math=function(e,t){return Math[e](t)},this.is_past=function(e){"number"!=typeof e&&isNaN(e)||e.length<13&&(e=1e3*e);var t=new Date(e);return console.log(t),t&&"Invalid Date"!=t?t.getTime()<Date.now()?!0:!1:"Invalid Date"},this.trust_url=function(e){try{return n.trustAsUrl(e)}catch(t){console.log(t)}},this.trust_html=function(e){try{var e=angular.element("<textarea />").html(e).text();return n.trustAsHtml(e)}catch(t){console.log(t)}},this.array_has_object=function(e,t,n){return Array.prototype.hasObject=function(e,t){for(var n=this.length,r=e[t];n--;)if(this[n].hasOwnProperty(t)&&this[n][t]==r)return!0;return!1},e.hasObject(t)},this.object_path=function(e,t,n){if(e&&null!==e&&("object"==typeof e||"array"==typeof e)&&void 0!==t&&null!==t&&""!==t&&"string"==typeof t){var r=t.split(".");if(r.length>1){var a=e[r[0]];return r.shift(),i.object_path(a,r,n)}return n?e[r[0]]=n:e[r[0]]}}}]).directive("ellipsisBind",["$timeout",function(e){return{restrict:"A",link:function(t,n,r,i){var a=r.ellipsisSymbol?r.ellipsisSymbol:"...",s=a,o=r.ellipsisLines?r.ellipsisLines:2,l=o,u=r.hasOwnProperty("ellipsisWatch")?r.ellipsisWatch:!1;n.css("position","relative");var h=null,c=n.html(),m=parseInt(n.width()),p=function(e){for(var t=document.createElement("ellipse_wrapper"),n=e.textContent.split(""),r=n.length,i=0;r>i;i++){var a=document.createElement("ellipse_item");a.textContent=n[i],t.appendChild(a)}var s=e.parentNode;s.insertBefore(t,e),s.removeChild(e)},f=function(e){for(var t=e.childNodes,n=t.length,r=0;n>r;r++){var i=t[r];i.childNodes.length>0?f(i):"ellipse_wrapper"!==i.tagname&&p(i)}},d=function(){for(var e=parseInt(n.css("line-height")),t=n[0].getElementsByTagName("ellipse_item"),r=Array.prototype.slice.call(t),i=r.length,a=0;i>a;a++){var o=t[a].offsetTop;e*l>o?t[a].className=o:t[a].className="hiding "+o}var u=n[0].querySelectorAll(".hiding"),h=Array.prototype.slice.call(u),c=h.length;if(c>0){for(var m=u[0],p=s.length+1;p--&&m;)m=m.previousSibling,m&&(m.className="hiding hidden");for(var f=0;c>f;f++)h[f].className="hiding hidden";var d=n[0].querySelectorAll(".ellipsi");if(0==d.length){var d=document.createElement("span");d.className="ellipsi",d.textContent=s,n[0].appendChild(d)}}else{var d=n[0].querySelectorAll(".ellipsi");d.length>0&&n[0].removedChild(d[0])}},g=function(){null!==h&&e.cancel(h);var i=r.ellipsisBind;if(i&&""!==i){i=i.split(".").length>1?i.split("."):[i];for(var u=t.$parent,g=i.length,y=0;g>y;y++)u=u[i[y]];var _=parseInt(n.width());if(c!==u||m!==_||l!==o||a!==s){a=s,m=_,c=u,o=l;var b=document.createElement("span");b.className="ellipsis_container",b.innerHTML=c;for(var M=b.childNodes,S=M.length,w=0;S>w;w++){var j=M[w];"ellipse_wrapper"!==j.tagname&&j.childNodes.length>0?f(j):"ellipse_wrapper"!==j.tagname&&p(j)}n[0].innerHTML="",n[0].appendChild(b),d()}}v()},v=function(){h=e(g,500)};g();var y=function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)};y(window,"resize",g()),(1==u||"true"==u)&&(t.$watch(function(){return r.ellipsisLines},function(e){e&&(l=e,g())},!0),t.$watch(function(){return r.ellipsisSymbol},function(e){e&&(s=e,g())},!0))}}}]);
//# sourceMappingURL=utility.min.js.map